{
  "_format": "hh-sol-artifact-1",
  "contractName": "CollateralVault",
  "sourceName": "contracts/core/CollateralVault.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "CollateralDeposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "defaultedBorrower",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "CollateralLiquidated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "CollateralReleased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "oldFactory",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newFactory",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "updatedBy",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "FactoryUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        }
      ],
      "name": "depositCollateral",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "deposits",
      "outputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "depositor",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "released",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        }
      ],
      "name": "getDeposit",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "depositor",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "released",
              "type": "bool"
            }
          ],
          "internalType": "struct CollateralVault.CollateralDeposit",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "recipient",
          "type": "address"
        }
      ],
      "name": "liquidateCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "loanFactory",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "loanId",
          "type": "uint256"
        }
      ],
      "name": "releaseCollateral",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newFactory",
          "type": "address"
        }
      ],
      "name": "setLoanFactory",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50338061003757604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6100408161004a565b506001805561009a565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610d45806100a96000396000f3fe6080604052600436106100955760003560e01c80639f9fb968116100595780639f9fb96814610142578063b02c43d01461021b578063b37ed8cd146102a3578063f0472c49146102c3578063f2fde38b146102e357600080fd5b8063117a05d5146100a157806339007b77146100b6578063715018a6146100d657806386a31998146100eb5780638da5cb5b1461010b57600080fd5b3661009c57005b600080fd5b6100b46100af366004610c33565b610303565b005b3480156100c257600080fd5b506100b46100d1366004610c79565b61050f565b3480156100e257600080fd5b506100b4610738565b3480156100f757600080fd5b506100b4610106366004610c92565b61074c565b34801561011757600080fd5b506000546001600160a01b03165b6040516001600160a01b0390911681526020015b60405180910390f35b34801561014e57600080fd5b506101db61015d366004610c79565b60408051608081018252600080825260208201819052918101829052606081019190915250600090815260036020908152604091829020825160808101845281546001600160a01b03908116825260018301549382019390935260029091015491821692810192909252600160a01b900460ff161515606082015290565b6040805182516001600160a01b03908116825260208085015190830152838301511691810191909152606091820151151591810191909152608001610139565b34801561022757600080fd5b5061026e610236366004610c79565b6003602052600090815260409020805460018201546002909201546001600160a01b039182169291811690600160a01b900460ff1684565b60405161013994939291906001600160a01b039485168152602081019390935292166040820152901515606082015260800190565b3480156102af57600080fd5b50600254610125906001600160a01b031681565b3480156102cf57600080fd5b506100b46102de366004610cb4565b610800565b3480156102ef57600080fd5b506100b46102fe366004610c92565b610a6d565b6002546001600160a01b031633146103365760405162461bcd60e51b815260040161032d90610ce0565b60405180910390fd5b61033e610aa8565b6000821161038e5760405162461bcd60e51b815260206004820181905260248201527f416d6f756e74206d7573742062652067726561746572207468616e207a65726f604482015260640161032d565b6001600160a01b0381166103d85760405162461bcd60e51b815260206004820152601160248201527024b73b30b634b2103232b837b9b4ba37b960791b604482015260640161032d565b600084815260036020526040902060010154156104375760405162461bcd60e51b815260206004820152601c60248201527f436f6c6c61746572616c20616c7265616479206465706f736974656400000000604482015260640161032d565b604080516080810182526001600160a01b038581168083526020808401878152868416858701818152600060608089018281528e835260038752918a9020985189546001600160a01b031916908916178955935160018901559051600290970180549151979096166001600160a81b031990911617600160a01b9615159690960295909517909355845191825281018690524293810193909352909186917f3b7707352e14ab5cd94441e99f646f79c40bfb3ede89a610932e1790a23b34c5910160405180910390a361050960018055565b50505050565b6002546001600160a01b031633146105395760405162461bcd60e51b815260040161032d90610ce0565b610541610aa8565b60008181526003602052604090206002810154600160a01b900460ff161561059e5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481c995b19585cd95960821b604482015260640161032d565b60008160010154116105e25760405162461bcd60e51b815260206004820152600d60248201526c139bc818dbdb1b185d195c985b609a1b604482015260640161032d565b60028101805460ff60a01b1916600160a01b17905580546001600160a01b03166106ab57600281015460018201546040516000926001600160a01b031691908381818185875af1925050503d8060008114610659576040519150601f19603f3d011682016040523d82523d6000602084013e61065e565b606091505b50509050806106a55760405162461bcd60e51b8152602060048201526013602482015272115512081d1c985b9cd9995c8819985a5b1959606a1b604482015260640161032d565b506106cf565b6002810154600182015482546106cf926001600160a01b0391821692911690610ad2565b600281015481546001830154604080516001600160a01b0393841681526020810192909252429082015291169083907fcfdeff7348c9bd161de39b9b2b5d398c15c832b16fdc70fc04b68872586e0c339060600160405180910390a35061073560018055565b50565b610740610b29565b61074a6000610b56565b565b610754610b29565b6001600160a01b03811661079c5760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b604482015260640161032d565b600280546001600160a01b038381166001600160a01b031983168117909355604051911691339183907f36502948c45304a06e1fd6054c9110fad048e8436cb1446b5d4dc709e9214f35906107f49042815260200190565b60405180910390a45050565b6002546001600160a01b0316331461082a5760405162461bcd60e51b815260040161032d90610ce0565b610832610aa8565b60008281526003602052604090206002810154600160a01b900460ff161561088f5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481c995b19585cd95960821b604482015260640161032d565b60008160010154116108d35760405162461bcd60e51b815260206004820152600d60248201526c139bc818dbdb1b185d195c985b609a1b604482015260640161032d565b6001600160a01b03821661091d5760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081c9958da5c1a595b9d607a1b604482015260640161032d565b60028101805460ff60a01b198116600160a01b1790915581546001600160a01b0391821691166109e75760018201546040516000916001600160a01b038616918381818185875af1925050503d8060008114610995576040519150601f19603f3d011682016040523d82523d6000602084013e61099a565b606091505b50509050806109e15760405162461bcd60e51b8152602060048201526013602482015272115512081d1c985b9cd9995c8819985a5b1959606a1b604482015260640161032d565b50610a05565b60018201548254610a05916001600160a01b03909116908590610ad2565b81546001830154604080516001600160a01b03938416815260208101929092524282820152518383169286169187917f034d0a3f682ab395984b9043830b0bd4bb2d15a63b5a386914ee7423ad1dc0189181900360600190a45050610a6960018055565b5050565b610a75610b29565b6001600160a01b038116610a9f57604051631e4fbdf760e01b81526000600482015260240161032d565b61073581610b56565b600260015403610acb57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b179052610b24908490610ba6565b505050565b6000546001600160a01b0316331461074a5760405163118cdaa760e01b815233600482015260240161032d565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080602060008451602086016000885af180610bc9576040513d6000823e3d81fd5b50506000513d91508115610be1578060011415610bee565b6001600160a01b0384163b155b1561050957604051635274afe760e01b81526001600160a01b038516600482015260240161032d565b80356001600160a01b0381168114610c2e57600080fd5b919050565b60008060008060808587031215610c4957600080fd5b84359350610c5960208601610c17565b925060408501359150610c6e60608601610c17565b905092959194509250565b600060208284031215610c8b57600080fd5b5035919050565b600060208284031215610ca457600080fd5b610cad82610c17565b9392505050565b60008060408385031215610cc757600080fd5b82359150610cd760208401610c17565b90509250929050565b60208082526015908201527413db9b1e48199858dd1bdc9e4818d85b8818d85b1b605a1b60408201526060019056fea264697066735822122002c3999a302f215b505ab5bd81208c00d361bd921045f4fdb878c150d7aaa7ac64736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100955760003560e01c80639f9fb968116100595780639f9fb96814610142578063b02c43d01461021b578063b37ed8cd146102a3578063f0472c49146102c3578063f2fde38b146102e357600080fd5b8063117a05d5146100a157806339007b77146100b6578063715018a6146100d657806386a31998146100eb5780638da5cb5b1461010b57600080fd5b3661009c57005b600080fd5b6100b46100af366004610c33565b610303565b005b3480156100c257600080fd5b506100b46100d1366004610c79565b61050f565b3480156100e257600080fd5b506100b4610738565b3480156100f757600080fd5b506100b4610106366004610c92565b61074c565b34801561011757600080fd5b506000546001600160a01b03165b6040516001600160a01b0390911681526020015b60405180910390f35b34801561014e57600080fd5b506101db61015d366004610c79565b60408051608081018252600080825260208201819052918101829052606081019190915250600090815260036020908152604091829020825160808101845281546001600160a01b03908116825260018301549382019390935260029091015491821692810192909252600160a01b900460ff161515606082015290565b6040805182516001600160a01b03908116825260208085015190830152838301511691810191909152606091820151151591810191909152608001610139565b34801561022757600080fd5b5061026e610236366004610c79565b6003602052600090815260409020805460018201546002909201546001600160a01b039182169291811690600160a01b900460ff1684565b60405161013994939291906001600160a01b039485168152602081019390935292166040820152901515606082015260800190565b3480156102af57600080fd5b50600254610125906001600160a01b031681565b3480156102cf57600080fd5b506100b46102de366004610cb4565b610800565b3480156102ef57600080fd5b506100b46102fe366004610c92565b610a6d565b6002546001600160a01b031633146103365760405162461bcd60e51b815260040161032d90610ce0565b60405180910390fd5b61033e610aa8565b6000821161038e5760405162461bcd60e51b815260206004820181905260248201527f416d6f756e74206d7573742062652067726561746572207468616e207a65726f604482015260640161032d565b6001600160a01b0381166103d85760405162461bcd60e51b815260206004820152601160248201527024b73b30b634b2103232b837b9b4ba37b960791b604482015260640161032d565b600084815260036020526040902060010154156104375760405162461bcd60e51b815260206004820152601c60248201527f436f6c6c61746572616c20616c7265616479206465706f736974656400000000604482015260640161032d565b604080516080810182526001600160a01b038581168083526020808401878152868416858701818152600060608089018281528e835260038752918a9020985189546001600160a01b031916908916178955935160018901559051600290970180549151979096166001600160a81b031990911617600160a01b9615159690960295909517909355845191825281018690524293810193909352909186917f3b7707352e14ab5cd94441e99f646f79c40bfb3ede89a610932e1790a23b34c5910160405180910390a361050960018055565b50505050565b6002546001600160a01b031633146105395760405162461bcd60e51b815260040161032d90610ce0565b610541610aa8565b60008181526003602052604090206002810154600160a01b900460ff161561059e5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481c995b19585cd95960821b604482015260640161032d565b60008160010154116105e25760405162461bcd60e51b815260206004820152600d60248201526c139bc818dbdb1b185d195c985b609a1b604482015260640161032d565b60028101805460ff60a01b1916600160a01b17905580546001600160a01b03166106ab57600281015460018201546040516000926001600160a01b031691908381818185875af1925050503d8060008114610659576040519150601f19603f3d011682016040523d82523d6000602084013e61065e565b606091505b50509050806106a55760405162461bcd60e51b8152602060048201526013602482015272115512081d1c985b9cd9995c8819985a5b1959606a1b604482015260640161032d565b506106cf565b6002810154600182015482546106cf926001600160a01b0391821692911690610ad2565b600281015481546001830154604080516001600160a01b0393841681526020810192909252429082015291169083907fcfdeff7348c9bd161de39b9b2b5d398c15c832b16fdc70fc04b68872586e0c339060600160405180910390a35061073560018055565b50565b610740610b29565b61074a6000610b56565b565b610754610b29565b6001600160a01b03811661079c5760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b604482015260640161032d565b600280546001600160a01b038381166001600160a01b031983168117909355604051911691339183907f36502948c45304a06e1fd6054c9110fad048e8436cb1446b5d4dc709e9214f35906107f49042815260200190565b60405180910390a45050565b6002546001600160a01b0316331461082a5760405162461bcd60e51b815260040161032d90610ce0565b610832610aa8565b60008281526003602052604090206002810154600160a01b900460ff161561088f5760405162461bcd60e51b815260206004820152601060248201526f105b1c9958591e481c995b19585cd95960821b604482015260640161032d565b60008160010154116108d35760405162461bcd60e51b815260206004820152600d60248201526c139bc818dbdb1b185d195c985b609a1b604482015260640161032d565b6001600160a01b03821661091d5760405162461bcd60e51b8152602060048201526011602482015270125b9d985b1a59081c9958da5c1a595b9d607a1b604482015260640161032d565b60028101805460ff60a01b198116600160a01b1790915581546001600160a01b0391821691166109e75760018201546040516000916001600160a01b038616918381818185875af1925050503d8060008114610995576040519150601f19603f3d011682016040523d82523d6000602084013e61099a565b606091505b50509050806109e15760405162461bcd60e51b8152602060048201526013602482015272115512081d1c985b9cd9995c8819985a5b1959606a1b604482015260640161032d565b50610a05565b60018201548254610a05916001600160a01b03909116908590610ad2565b81546001830154604080516001600160a01b03938416815260208101929092524282820152518383169286169187917f034d0a3f682ab395984b9043830b0bd4bb2d15a63b5a386914ee7423ad1dc0189181900360600190a45050610a6960018055565b5050565b610a75610b29565b6001600160a01b038116610a9f57604051631e4fbdf760e01b81526000600482015260240161032d565b61073581610b56565b600260015403610acb57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b179052610b24908490610ba6565b505050565b6000546001600160a01b0316331461074a5760405163118cdaa760e01b815233600482015260240161032d565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080602060008451602086016000885af180610bc9576040513d6000823e3d81fd5b50506000513d91508115610be1578060011415610bee565b6001600160a01b0384163b155b1561050957604051635274afe760e01b81526001600160a01b038516600482015260240161032d565b80356001600160a01b0381168114610c2e57600080fd5b919050565b60008060008060808587031215610c4957600080fd5b84359350610c5960208601610c17565b925060408501359150610c6e60608601610c17565b905092959194509250565b600060208284031215610c8b57600080fd5b5035919050565b600060208284031215610ca457600080fd5b610cad82610c17565b9392505050565b60008060408385031215610cc757600080fd5b82359150610cd760208401610c17565b90509250929050565b60208082526015908201527413db9b1e48199858dd1bdc9e4818d85b8818d85b1b605a1b60408201526060019056fea264697066735822122002c3999a302f215b505ab5bd81208c00d361bd921045f4fdb878c150d7aaa7ac64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
